// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url      = env("DATABASE_URL")
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id       String   @id @default(cuid())
  name     String   @default("")
  email    String   @unique @default("")
  password String
  answer   Answer[] @relation("Answer_user")
  isAdmin  Boolean  @default(false)
}

model Question {
  id       String   @id @default(cuid())
  question String   @default("")
  type     Type?    @relation("Question_type", fields: [typeId], references: [id])
  typeId   String?  @map("type")
  answer   Answer[] @relation("Answer_question")

  @@index([typeId])
}

model Type {
  id          String     @id @default(cuid())
  type        Int
  subheading  String     @default("")
  description String     @default("")
  question    Question[] @relation("Question_type")
}

model Answer {
  id         String    @id @default(cuid())
  answer     Int
  user       User?     @relation("Answer_user", fields: [userId], references: [id])
  userId     String?   @map("user")
  question   Question? @relation("Answer_question", fields: [questionId], references: [id])
  questionId String?   @map("question")

  @@index([userId])
  @@index([questionId])
}